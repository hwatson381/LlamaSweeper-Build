import{D as s,E as m,F as r,H as t,I as o,G as l,aR as u,K as d,aS as p,a9 as k}from"./index.d844fee4.js";import{Q as f}from"./QImg.4b2a2ae0.js";import{Q as b}from"./QPage.acbd4d5f.js";import{u as c}from"./use-quasar.2e6f44aa.js";import{c as g}from"./copy-to-clipboard.8e974bab.js";const x={class:"q-pa-md",style:{"max-width":"800px"}},w=["href"],Q=Object.assign({name:"BookmarkletPage"},{__name:"BookmarkletPage",setup(y){const n=c();let a=`javascript: if(window.location.hostname !== 'minesweeper.online') {window.alert('This should only be run on minesweeper.online');throw new Error('not on wom');};var cells = document.querySelectorAll('.cell');var totalCellCount = cells.length;var maxX = -1;var maxY = -1;for (var i = 0; i < totalCellCount; i++) {var x = cells[i].getAttribute("data-x") * 1;var y = cells[i].getAttribute("data-y") * 1;if (x > maxX) {maxX = x;}if (y > maxY) {maxY = y;}}var rows = (maxY * 1) + 1;var columns = (maxX * 1) + 1;var urlstring = "https://llamasweeper.com/#/game/zini-explorer?b=";if (columns < 10) {urlstring = urlstring + "0";}urlstring = urlstring + columns;if (rows < 10) {urlstring = urlstring + "0";}urlstring = urlstring + rows + "&m=";var code = [%270%27,%271%27,%272%27,%273%27,%274%27,%275%27,%276%27,%277%27,%278%27,%279%27,%27a%27,%27b%27,%27c%27,%27d%27,%27e%27,%27f%27,%27g%27,%27h%27,%27i%27,%27j%27,%27k%27,%27l%27,%27m%27,%27n%27,%27o%27,%27p%27,%27q%27,%27r%27,%27s%27,%27t%27,%27u%27,%27v%27,];var blockCount = Math.ceil(totalCellCount / 5);for (var block = 0; block < blockCount; block++) {var bitcode = "";for (var cellCount = 0; cellCount < 5; cellCount++) {var cellNr = block * 5 + cellCount;if (cellNr < totalCellCount) {var row = Math.floor(cellNr / columns);var col = ((cellNr % columns) + columns) % columns;var divId = "cell_" + col + "_" + row;var madeByJanitor2AdaptedByLlama = false;document.getElementById(divId).classList.forEach(name => {if ((name.endsWith("flag") && !name.endsWith("closed_flag")) || name.endsWith("type10") || name.endsWith("type11")) {madeByJanitor2AdaptedByLlama = true;}});if (madeByJanitor2AdaptedByLlama) {bitcode = bitcode + "1";} else {bitcode = bitcode + "0";}} else {bitcode = bitcode + "0";}}urlstring = urlstring + code[parseInt(bitcode, 2)];}urlstring += '&d=1';window.open(urlstring, "_blank").focus();`;function i(){g(a),n.notify({message:"Copied.",color:"purple",timeout:700})}return(v,e)=>(s(),m(b,{class:"flex justify-center"},{default:r(()=>[t("div",x,[e[7]||(e[7]=t("p",{class:"text-h4"},"Bookmarklet",-1)),e[8]||(e[8]=t("p",null,[o(" This is a bookmarklet which can be used to copy games from "),t("a",{href:"https://minesweeper.online"},"minesweeper.online"),o(" into the "),t("a",{href:"/#/game/zini-explorer"},"zini explorer"),o(". This is adapted from the bookmarklet created by Janitor2 for copying games to PTT's ZiNi calculator. ")],-1)),l(p,{flat:"",bordered:"",style:{"max-width":"250px","margin-left":"auto","margin-right":"auto"},class:"q-my-lg"},{default:r(()=>[l(u,null,{default:r(()=>[e[0]||(e[0]=o(" Drag this link to bookmarks bar")),e[1]||(e[1]=t("br",null,null,-1)),t("a",{href:d(a)},"LlamaSweeper zini import",8,w)]),_:1})]),_:1}),e[9]||(e[9]=t("p",{class:"text-h5"},"Desktop instructions (easy)",-1)),e[10]||(e[10]=t("ol",null,[t("li",null,"Drag the link above to your bookmarks bar"),t("li",null,[o(" Complete a game on "),t("a",{href:"https://minesweeper.online/start/1"},"minesweeper.online")]),t("li",null,"Click the bookmarklet to run it")],-1)),l(f,{src:"/img/supporting/bookmarklet_demo.gif",ratio:"1",style:{"max-width":"400px"},class:"q-ma-sm q-mb-lg"}),e[11]||(e[11]=t("p",{class:"text-h5"},"Mobile/alternate instructions (slightly harder)",-1)),t("ol",null,[t("li",null,[e[2]||(e[2]=o(" Click the button to copy bookmarklet text ")),e[3]||(e[3]=t("br",null,null,-1)),l(k,{onClick:i,color:"primary",label:"Copy bookmarklet text"})]),e[4]||(e[4]=t("li",null," Create a new bookmark, and paste the text into where the URL would usually go ",-1)),e[5]||(e[5]=t("li",null,[o(" Complete a game on "),t("a",{href:"https://minesweeper.online/start/1"},"minesweeper.online")],-1)),e[6]||(e[6]=t("li",null,"Click the bookmarklet to run it",-1))]),e[12]||(e[12]=t("p",{class:"text-info"}," Note: Never run bookmarklets from untrusted sources. It's recommended to review the code of bookmarklets before using them. ",-1))])]),_:1}))}});export{Q as default};
