import{k as H,$ as z,a0 as L,w as j,a1 as I,a2 as K,a3 as q,a4 as B,r as R,g as Q,a5 as U,a as V,a6 as S,K as X}from"./index.d844fee4.js";function Y(e){return I()?(K(e),!0):!1}const N=typeof window!="undefined"&&typeof document!="undefined";typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;const Z=Object.prototype.toString,ee=e=>Z.call(e)==="[object Object]",te=()=>{};function ne(...e){if(e.length!==1)return q(...e);const n=e[0];return typeof n=="function"?L(B(()=>({get:n,set:te}))):R(n)}function re(e,n){function t(...o){return new Promise((l,f)=>{Promise.resolve(e(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(l).catch(f)})}return t}const P=e=>e();function oe(e=P,n={}){const{initialState:t="active"}=n,o=ne(t==="active");function l(){o.value=!1}function f(){o.value=!0}const y=(...i)=>{o.value&&e(...i)};return{isActive:L(o),pause:l,resume:f,eventFilter:y}}function W(e){return Array.isArray(e)?e:[e]}function ie(e){return e||Q()}function ae(e,n,t={}){const{eventFilter:o=P,...l}=t;return j(e,re(o,n),l)}function ue(e,n,t={}){const{eventFilter:o,initialState:l="active",...f}=t,{eventFilter:y,pause:i,resume:a,isActive:u}=oe(o,{initialState:l});return{stop:ae(e,n,{...f,eventFilter:y}),pause:i,resume:a,isActive:u}}function le(e,n=!0,t){ie(t)?H(e,t):n?e():z(e)}function se(e,n,t){return j(e,n,{...t,immediate:!0})}const F=N?window:void 0;N&&window.document;N&&window.navigator;N&&window.location;function ce(e){var n;const t=S(e);return(n=t==null?void 0:t.$el)!=null?n:t}function M(...e){const n=[],t=()=>{n.forEach(i=>i()),n.length=0},o=(i,a,u,d)=>(i.addEventListener(a,u,d),()=>i.removeEventListener(a,u,d)),l=V(()=>{const i=W(S(e[0])).filter(a=>a!=null);return i.every(a=>typeof a!="string")?i:void 0}),f=se(()=>{var i,a;return[(a=(i=l.value)==null?void 0:i.map(u=>ce(u)))!=null?a:[F].filter(u=>u!=null),W(S(l.value?e[1]:e[0])),W(X(l.value?e[2]:e[1])),S(l.value?e[3]:e[2])]},([i,a,u,d])=>{if(t(),!(i!=null&&i.length)||!(a!=null&&a.length)||!(u!=null&&u.length))return;const v=ee(d)?{...d}:d;n.push(...i.flatMap(C=>a.flatMap(h=>u.map(O=>o(C,h,O,v)))))},{flush:"post"}),y=()=>{f(),t()};return Y(t),y}const A=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},E="__vueuse_ssr_handlers__",fe=de();function de(){return E in A||(A[E]=A[E]||{}),A[E]}function pe(e,n){return fe[e]||n}function ye(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ve={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},J="vueuse-storage";function me(e,n,t,o={}){var l;const{flush:f="pre",deep:y=!0,listenToStorageChanges:i=!0,writeDefaults:a=!0,mergeDefaults:u=!1,shallow:d,window:v=F,eventFilter:C,onError:h=r=>{console.error(r)},initOnMounted:O}=o,m=(d?U:R)(typeof n=="function"?n():n),p=V(()=>S(e));if(!t)try{t=pe("getDefaultStorage",()=>{var r;return(r=F)==null?void 0:r.localStorage})()}catch(r){h(r)}if(!t)return m;const g=S(n),k=ye(g),w=(l=o.serializer)!=null?l:ve[k],{pause:_,resume:T}=ue(m,()=>$(m.value),{flush:f,deep:y,eventFilter:C});j(p,()=>b(),{flush:f}),v&&i&&le(()=>{t instanceof Storage?M(v,"storage",b,{passive:!0}):M(v,J,G),O&&b()}),O||b();function D(r,s){if(v){const c={key:p.value,oldValue:r,newValue:s,storageArea:t};v.dispatchEvent(t instanceof Storage?new StorageEvent("storage",c):new CustomEvent(J,{detail:c}))}}function $(r){try{const s=t.getItem(p.value);if(r==null)D(s,null),t.removeItem(p.value);else{const c=w.write(r);s!==c&&(t.setItem(p.value,c),D(s,c))}}catch(s){h(s)}}function x(r){const s=r?r.newValue:t.getItem(p.value);if(s==null)return a&&g!=null&&t.setItem(p.value,w.write(g)),g;if(!r&&u){const c=w.read(s);return typeof u=="function"?u(c,g):k==="object"&&!Array.isArray(c)?{...g,...c}:c}else return typeof s!="string"?s:w.read(s)}function b(r){if(!(r&&r.storageArea!==t)){if(r&&r.key==null){m.value=g;return}if(!(r&&r.key!==p.value)){_();try{(r==null?void 0:r.newValue)!==w.write(m.value)&&(m.value=x(r))}catch(s){h(s)}finally{r?z(T):T()}}}}function G(r){b(r.detail)}return m}function Se(e,n,t={}){const{window:o=F}=t;return me(e,n,o==null?void 0:o.localStorage,t)}export{Se as u};
